define(["require","exports","module","lib/CommonUtil","THREE"],function(e,t){"use strict";function a(e){n.isDefined(i[e.get().model.name])&&f(e),s++;var t="ModelFrame ";e.get().model.name=t+s+" ",i[e.get().model.name]=e}function f(e){n.isDefined(i[e.get().model.name])&&(i[e.get().model.name].dispose(),i[e.get().model.name]=null,delete i[e.get().model.name])}function l(e){return n.isDefined(i[e.name])?i[e.name]:null}function c(e){var t=null;for(var n in i){if(n===e.get().model.name||!i[n].isOverlap(e))continue;u.subVectors(i[n].get().model.position,e.get().model.position),o.copy(u),o.normalize(),o.x=0<o.x?o.x*10+2:o.x*10-2,o.z=0<o.z?o.z*10+2:o.z*10-2;do u.copy(o),u.add(i[n].get().model.position),i[n].get().model.position.copy(u),i[n].update();while(i[n].isOverlap(e));c(i[n])}}var n=e("lib/CommonUtil"),r=e("THREE"),i={},s=0,o=new r.Vector3(0,0,0),u=new r.Vector3(0,0,0);t.addModelFrame=a,t.removeModelFrame=f,t.getModelFrame=l,t.manageOverlapOtherModel=c});